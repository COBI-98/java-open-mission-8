# java-open-mission-8

## 인천공항 플래너 

- [X] 도착 일시를 입력할 수 있다.
  - [X] 방문 날짜와 시간을 문자열로 입력받는다.
  - [X] `YYYY-MM-DD HH:mm` 형식이 아니면 예외를 발생시킨다.
  - [X] 유효하지 않은 날짜/시간(2월 30일 등)이면 예외를 발생시킨다.
- [X] 도착 터미널을 입력할 수 있다.
  - [X] `T1`, `T2` 중 하나만 허용한다.
- [X] 목적지 대략 위치를 입력할 수 있다.
  - [X] 명동/시청, 홍대/마포, 강남/잠실, 인천/부천 등 **사전 정의된 구역 코드**로 입력받는다.
- [X] 짐/동행자 상태를 입력할 수 있다.
  - [X] 캐리어 개수는 0 이상 N 이하의 정수만 허용한다.
  - [X] 동행자 유형(혼자, 가족, 아이 동반)을 선택할 수 있다.
- [X] 이동 우선순위를 입력할 수 있다.
  - [X] 시간/비용/편안함/경험 중 최소 1개, 최대 2개까지 선택할 수 있다.
- [X] 언어 정보를 입력할 수 있다.
  - [X] 선호 언어를 선택할 수 있다. (예: KOREAN, ENGLISH, JAPANESE, CHINESE)
  - [ ] 한국어 표지판 이해 수준(없음/기본/중급)을 선택할 수 있다.
- [ ] 공항에서 반드시 처리하고 싶은 일을 입력할 수 있다.
  - [ ] 유심/eSIM, 환전, 교통카드, 식사, 샤워 등 작업을 선택할 수 있다.

---

### 도메인 모델
- [ ] 사용자의 입력을 `PlanningRequest` 도메인 객체로 만들 수 있다.
  - [ ] 누락된 필수 항목이 있으면 예외를 발생시킨다.
  - [ ] 문자열 입력을 도메인 값 객체로 안전하게 변환한다.
- [ ] 잘못된 조합을 미리 막는다.
  - [ ] 체류 시간이 1시간 미만인데 공항 밖 이동을 선택한 경우 경고 또는 예외를 발생시킨다.
  - [ ] 심야 시간대에 일부 교통수단이 운행하지 않는 경우, 경고 메시지를 표시한다.

---

### 도착일의 성격(요일·공휴일)을 판단할 수 있다.

- [ ] 날짜를 입력하면 `DayType`을 판별할 수 있다.
  - [ ] 평일/주말을 구분한다. (`WEEKDAY`, `WEEKEND`)
  - [ ] 공휴일/연휴 여부를 구분할 수 있다. (`HOLIDAY`, `PEAK_SEASON`)
- [ ] `DayType`에 따라 기본 지연 계수를 제공할 수 있다.
  - [ ] 평일 낮에는 기본 지연 계수 1.0을 사용한다.
  - [ ] 주말/공휴일에는 입국·이동 단계에 추가 버퍼(예: 1.2배)를 반영한다.

---

### 공항에서 해야 할 일을 타임라인 조각으로 만들 수 있다.

- [ ] `RequiredAirportTask`를 `ItineraryStep`으로 변환할 수 있다.
  - [ ] 유심/eSIM 구매에 기본 소요시간(예: 15분)을 할당한다.
  - [ ] 환전, 교통카드, 식사, 샤워 등 각 작업에 기본 소요시간을 할당한다.
  - [ ] 공휴일/피크 시간대에는 작업 시간에도 지연 계수를 적용한다.
- [ ] 작업 순서를 정책으로 정할 수 있다.
  - [ ] 기본 정책: 유심/eSIM → 환전 → 교통카드 → 식사 순으로 실행한다.
  - [ ] 심야 도착 등 일부 작업이 종료된 시간대라면, 해당 작업을 뒤로 미루거나 추천에서 제외한다.

---

### 교통수단 후보를 생성하고 평가할 수 있다.

- [ ] 인천공항 → 목적지 구역에 대한 `TransportOption` 후보를 만들 수 있다.
  - [ ] 공항버스, 공항철도(AREX), 일반 지하철, 택시 후보를 정의한다.
  - [ ] 각 후보에 기본 소요시간, 환승 횟수, 대략적인 비용을 설정한다.
- [ ] 사용자의 우선순위에 따라 교통수단을 평가할 수 있다.
  - [ ] “최소 환승”이 최우선이면 환승 횟수 가중치를 가장 크게 준다.
  - [ ] “최단 시간”이 최우선이면 소요시간 가중치를 가장 크게 준다.
  - [ ] “저비용”이 최우선이면 비용 가중치를 가장 크게 준다.
- [ ] `LanguagePreference`에 따라 도보/환승 난이도를 조정할 수 있다.
  - [ ] 한국어 이해도가 낮을수록 환승이 많은 루트의 점수를 낮춘다.
  - [ ] 표지판/안내가 잘 된 교통수단(예: 공항철도 직통)을 우선 추천할 수 있다.

---

### 3시간 타임박스를 만족하는 타임라인을 조립할 수 있다.

- [ ] 모든 `ItineraryStep`을 이어 붙여 `ItineraryPlan`을 만들 수 있다.
- [ ] `TimeWindowConstraint`를 만족하는지 검사할 수 있다.
  - [ ] 플랜의 총 소요시간이 3시간을 초과하면 실패로 간주한다.
  - [ ] 초과된 경우, 우선순위가 낮은 작업(예: 식사)을 순서대로 제거하는 전략을 적용할 수 있다.
- [ ] 공휴일/피크 시간대에는 버퍼를 자동으로 추가할 수 있다.
  - [ ] 입국·이동 단계에 추가 버퍼를 붙여도 3시간 안에 들어오는지 검사한다.
  - [ ] 들어오지 않으면, 보다 공격적인 플랜(최단시간 중심 루트)을 시도한다.

---

### 플랜을 요약하고, 선택의 이유를 보여줄 수 있다.

- [ ] 최종 `ItineraryPlan`을 `PlanReport`로 변환할 수 있다.
  - [ ] 총 이동 시간, 실제 이동 시간, 총 대기/버퍼 시간, 환승 횟수, 예상 비용을 요약한다.
- [ ] “왜 이 루트를 추천했는지” 설명할 수 있다.
  - [ ] 사용자가 선택한 우선순위를 문장으로 풀어준다.
  - [ ] 다른 루트를 버린 이유를 간단히 보여줄 수 있다.  
        예) “공항철도+지하철 루트는 10분 더 빠르지만, 환승이 2번이라 짐이 많은 당신에게는 버스를 추천했습니다.”

---

### CLI로 계획을 출력할 수 있다.

- [ ] 입력 요약을 출력할 수 있다.
  - [ ] 도착 시간, 터미널, 목적지 구역, 짐 상태, 우선순위, 언어 정보를 정리해서 보여준다.
- [ ] 타임라인을 시간 순으로 출력할 수 있다.
  - [ ] `HH:mm ~ HH:mm [TASK/MOVE/BUFFER] 설명` 형식으로 각 단계를 출력한다.
- [ ] 플랜 요약을 출력할 수 있다.
  - [ ] 총 소요 시간, 환승 횟수, 예상 비용, 예상 도착 시간을 출력한다.
- [ ] 선택의 이유와 리스크를 출력할 수 있다.
  - [ ] “왜 이 루트가 선택되었는지” 한두 문장으로 설명한다.
  - [ ] 예상되는 리스크(공휴일 지연, 막차 시간 등)를 함께 보여준다.